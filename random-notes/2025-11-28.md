
---
1. The query

```
@Query("SELECT EXISTS(SELECT 1 FROM fasting_calendar WHERE epochDay = :epochDay AND fasted = 1)")
suspend fun isFasted(epochDay: Long): Boolean
```

✅ **Purpose:** Quickly checks if a record exists for a given day that is marked as fasted.

✅ **How it works:**

- `EXISTS(...)` returns `1` if at least one matching row exists, else `0`.
    
- Room converts that to `true` / `false`.
    

✅ **Result:** Efficient boolean check — no need to load entire rows, only confirms if that day was fasted.


2. - `launch` can’t return a value — it runs asynchronously and always returns `Job`.
	- To get a result from a coroutine, use
	- `suspend fun` → the function itself suspends and returns the result.
	- or `async` → returns `Deferred<T>`, call `.await()` to get the value.
	- Example fix:
	
	```
	suspend fun checkFastedForToday(epochDay: Long): Boolean =
	    prayerRepository.checkFastingDateFasted(epochDay)
	```
	
	✅ Clean, simple, and proper for returning values in coroutines.