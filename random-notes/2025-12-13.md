- Pin music tab -> small
- 
---
1. I Tried Making My App 100% Offline-First. The Sync Issues Nearly Destroyed the Project
	- **data conflicts.**
	- **offline-first apps look simple… until the moment they’re not.**
	- _“What if my app didn’t depend on the internet at all?”_
		- Snappy.  
		- Reliable.  
		- Fast.  
		- Functional even in elevators, basements, trains, and airplanes.
	- **offline-first is not a feature — it’s an ecosystem you must build and maintain.**
	- **deleting is the hardest operation** — not creating or updating.
	- So I had to introduce:
		- **tombstones** (deleted markers)
		- **timestamped delete events**
		- **conflict priority rules**
	- Edit:
	- I implemented:
		- **server-assigned logical timestamps**
		- **operation sequencing**
		- **vector clocks** (yes, I went down that rabbit hole)
	- THE FIX: BUILDING A REAL SYNC ENGINE (THE HARD WAY)
		- 1. Every Action Must Be an Event, Not a State Change
		- 2. Server Time Is the Only Source of Truth
		- 3. Tombstones Are Mandatory
			- deletedAt
			- deletedBy
			- lastSyncedVersion
		- 4. Automatic Merge Logic Must Be Explicit, Not Magical
			- Field-level merge
			- Conflict-based prompts (in extreme cases)
			- Per-attribute rules (title wins differently than notes body)
			- Device fingerprinting to detect loops
		- 5. Sync Must Be Batching + Transactional
			- Fetches changes
			- Applies them in a background context
			- Validates integrity
			- Only then replaces main store
			- Writes local operations after merging server operations
	- ## If your app doesn’t truly need offline-first… don’t do it. Build offline-fallback instead. Save your hair.

2. 