1. **SharingStarted Strategy in Flow**
	- **`SharingStarted` = Lifecycle Policy**
		- Controls _when_ upstream starts, _when_ it stops, and _who_ keeps it alive.
		- Works by tracking `subscriptionCount` internally.
	- **Eagerly:** starts immediately and never stops; ideal for global or always-on data.
	- **Lazily:** starts only when the first collector appears and never stops; great for deferred initialization or lazy caches.
	- **WhileSubscribed(stopTimeoutMillis, replayExpirationMillis):** starts when a collector appears, delays shutdown after all leave, then stops; perfect for UI-driven flows.
	- ### WhileSubscribed Deep Dive
		- It starts the upstream when the first collector subscribes.
		- When all collectors leave, it waits for `stopTimeoutMillis` before cancelling.
		- Default `stopTimeoutMillis` is `0`, so the flow stops immediately — causing “doesn’t collect” behavior when UI briefly detaches.
		- Add a small delay (for example, 5000ms) to survive quick lifecycle changes such as navigation or rotation.
		- Prevents constant restarting during short UI pauses.

	- ### Under the Hood
		- `subscriptionCount` increases when collectors start, decreases when they stop.
		- The sharing job monitors this count to start or stop upstream work.
		- After all collectors unsubscribe and the timeout expires, the upstream job cancels.
		- `replayExpirationMillis` controls when cached values expire.
	- ### Best Practices
		- For always-on global data, use `Eagerly`.
		- For UI-driven data, use `WhileSubscribed(3000–5000)`.
		- For deferred initialization, use `Lazily`.
		- Always collect in lifecycle-aware scopes using `repeatOnLifecycle` or `collectAsStateWithLifecycle`.
		- Keep stop timeout short enough for cleanup but long enough to survive quick UI transitions.
		- Prefer `stateIn` over manual `MutableStateFlow` for caching latest UI state.
		- Don’t rely on `WhileSubscribed(0)` unless you explicitly want instant cancellation.

2. **Enable k2mode for Kotlin plugin**
	- <supportsKotlinPluginMode supportsK2="true" />

